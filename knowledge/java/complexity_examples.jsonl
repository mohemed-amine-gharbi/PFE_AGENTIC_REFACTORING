{"id":"java_complexity_001","language":"java","agent":"ComplexityAgent","before":"public int calc(User u, Order o){ if(u!=null){ if(u.isActive()){ if(o!=null){ if(o.getItems()!=null && !o.getItems().isEmpty()){ return o.getItems().size(); } else { return 0; } } else { return 0; } } else { return 0; } } return 0; }","after":"public int calc(User user, Order order){ if (user == null) return 0; if (!user.isActive()) return 0; if (order == null) return 0; if (order.getItems() == null || order.getItems().isEmpty()) return 0; return order.getItems().size(); }","why_safe":"Same return values and order of checks preserved; only nesting reduced with guard clauses."}
{"id":"java_complexity_002","language":"java","agent":"ComplexityAgent","before":"public void handle(Request r){ if(r==null){ throw new IllegalArgumentException(); } if(r.isValid()){ log.info(\"valid\"); save(r); notifyClient(r); } else { log.warn(\"invalid\"); } }","after":"public void handle(Request request){ validateRequest(request); if (!request.isValid()) { log.warn(\"invalid\"); return; } log.info(\"valid\"); save(request); notifyClient(request); } private void validateRequest(Request request){ if (request == null) { throw new IllegalArgumentException(); } }","why_safe":"Null validation still occurs first; valid/invalid behavior and side effects preserved."}