{"id":"c_complexity_001","language":"c","agent":"ComplexityAgent","before":"int calc(User *u, Order *o){ if(u!=NULL){ if(u->is_active){ if(o!=NULL){ if(o->items_count>0){ return o->items_count; } else { return 0; } } else { return 0; } } else { return 0; } } return 0; }","after":"int calc(User *user, Order *order){ if (user == NULL) return 0; if (!user->is_active) return 0; if (order == NULL) return 0; if (order->items_count <= 0) return 0; return order->items_count; }","why_safe":"Same checks and return values preserved; only nesting reduced with guard clauses."}
{"id":"c_complexity_002","language":"c","agent":"ComplexityAgent","before":"int handle(Request *r){ if(r==NULL){ return ERR_NULL; } if(r->valid){ log_info(\"valid\"); save_request(r); notify_client(r); return OK; } else { log_warn(\"invalid\"); return ERR_INVALID; } }","after":"int handle(Request *request){ if (request == NULL) return ERR_NULL; if (!request->valid) { log_warn(\"invalid\"); return ERR_INVALID; } log_info(\"valid\"); save_request(request); notify_client(request); return OK; }","why_safe":"Return codes and side-effect order preserved; valid/invalid branches flattened safely."}